<!doctype html>
<html lang="fi">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Tiimiesittely</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <header>
    <div class="logo">
      <img src="RAlogo.png" />
    </div>
    <div id="date"></div>
    <nav id="main-menu">
      <ul>
        <li><a href="index.html">Etusivu</a></li>
        <li><a href="team.html">Tiimi</a></li>
      </ul>
    </nav>
  </header>
  <main>
    <h1>Javascript-ohjelmointi</h1>
    <h2>Rohkeat aloittelijat</h2>
    <p>Sprinttej√§ valmiina: <span id='progress'>0</span>
      <hr>
      <div>
        <h2>Sprintti 1:Laskuri</h2>
        <h3 class='status'>Status: Planned</h3>
        <p class="statusFlag"><a href="https://public.bc.fi/s1900565/Projects/JavaScript/sprint01/laskuri_ok_1.html"
            target="blank">Laskuri.html</a></p>
      </div>
      <hr>
      <div>
        <h2>Sprintti 2:Numeropeli</h2>
        <h3 class='status'>Status: Planned</h3>
        <p class="statusFlag"><a href="https://public.bc.fi/s1900565/Projects/JavaScript/sprint02bonus2/numeropeli.html"
          target="blank">Numeropeli.html</a></p>
      </div>
      <hr>
      <div>
        <h2>Sprintti 3:Rumppusetti</h2>
        <h3 class='status'>Status: Planned</h3>
        <p class="statusFlag"><a href="https://public.bc.fi/s1900565/Projects/JavaScript/sprint03/index-START_new.html"
          target="blank">Rumppusetti.html</a></p>
      </div>
      <div>
        <h2>Reaktiopeli</h2>
        <h3 class='status'>Status: Planned</h3>
        <p class="statusFlag"><a href="https://public.bc.fi/s1900565/Projects/JavaScript/Reaktiopeli%201/t04_reaktio.html"
          target="blank">t04_reaktio.html</a></p>
      </div>
      <hr>
      
  </main>
  <footer>
    <p>&copy; 2019 - Rohkeat aloittelijat PHP19</p>
  </footer>
</body>
<script>
  // document.getElementById('date').textContent = (new Date).toLocaleDateString;
  const date = new Date();
  const elem = document.getElementById('date');
  elem.textContent = date.toLocaleDateString('fi');

  let stat = document.getElementsByClassName('status'); // team's tasks
  console.log('status.length ' + stat.length);

  function progressCount() { //defines task's status and counts number of status 'Done'
    let statusCounter = 0; 

    for (statInd = 0; statInd < stat.length; statInd++) {
      //console.log('statInd' + statInd);  
      let progresStatus = document.getElementsByClassName('statusFlag');
      //console.log('progress status ' + progresStatus[statInd].innerHTML);
      if (progresStatus[statInd].innerHTML.includes('href')) { // checks if the string consists a link
        stat[statInd].innerHTML = 'Status: Done';
        } else {
          stat[statInd].innerHTML = 'Status: Ongoing';;
        }
      if (stat[statInd].innerHTML == 'Status: Done') {
        statusCounter++;
      }
    }
    
    //console.log('status counter= ' + statusCounter);
    document.getElementById('progress').innerHTML = statusCounter; 
  }

  progressCount();
  

</script>

</html>